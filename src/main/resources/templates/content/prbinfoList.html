<!DOCTYPE html>
<html lang="ko"
      layout:decorate="~{layout/default_layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">
<head>
	<link
			href="/assets/extra-libs/multicheck/multicheck.css"
			rel="stylesheet"
			th:href="@{/assets/extra-libs/multicheck/multicheck.css}"
			type="text/css"
	/>
	<link
			href="/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css"
			rel="stylesheet"
			th:href="@{/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.css}"
	/>
	<!-- this page js -->
	<script href="/assets/extra-libs/multicheck/datatable-checkbox-init.js"
	        th:src="@{/assets/extra-libs/multicheck/datatable-checkbox-init.js}"></script>
	<script href="/assets/extra-libs/multicheck/jquery.multicheck.js"
	        th:src="@{/assets/extra-libs/multicheck/jquery.multicheck.js}"></script>
	<script href="/assets/extra-libs/DataTables/datatables.min.js"
	        th:src="@{/assets/extra-libs/DataTables/datatables.min.js}"></script>

	<script>
        $(function () {

            var dataTable1=$("#zero_config").DataTable({
                ajax : {
                    url: "/prbinfoListAjax",
                    type: "POST",
                    dataType : 'JSON',
                    cache : false,
                    beforeSend : function() {
                    },
                    data: function (p) {
                        p.page = $("#zero_config").DataTable().page.info().page+1;
                        p.size = $("#zero_config").DataTable().page.len();
                    },
                    dataSrc: function(res) {
                        var data = res.data;
                        return data;
                    },
                    dataFilter: function (data) {
                         data = JSON.parse(data);

                         var json = {
                            recordsTotal: data.totalElements,
                            recordsFiltered: data.totalElements,
                            data: data.content
                         };

                         return JSON.stringify(json);
                    },
                    complete : function(res) {
                    },
                    error : function (jqXHR, textStatus, errorThrown) {

                    }
                },
                  columnDefs: [
                    {
                      data: function (data, type) {
                          return '<label class="customcheckbox"><input type="checkbox" value="'+data.id+'" class="listCheckbox"><span class="checkmark"></span></label>';
                      },
                      targets: 0,
                      orderable: false,
                      visible: true
                    },
                    {data: 'id',    targets: 1, orderable: false, visible: true},
                    {
                        data:function(data, type){
                            return '<a href="/prbinfoInfo?id='+data.id+'">'+'개인정보처리방침'+'</a>';
                        }, targets: 2, orderable: false, visible: true
                    },
                    {data: 'regDtime', targets: 3, orderable: false, visible: true}

                  ],
                  ordering: false,
                  pagingType: "full_numbers",
                  searching: true,
                  lengthChange: false,
                  info: false,
                  processing: true,
                  serverSide: true,
                  pageLength: 10,
                  paging: true
            });

            $(".dataTables_filter").html('<button class="btn btn-outline-primary" id="refresh" onclick="location.href=\'/prbinfoInfo\';">등록</button><button class="btn btn-outline-danger" id="refresh">삭제</button>');
			$("#zero_config_paginate").parent("div").addClass("page-wrap");
			$("#zero_config_paginate").parent("div").siblings("div").addClass("before-page-wrap");

        });


	</script>
</head>


<div class="page-wrapper" layout:fragment="content">
	<div class="page-breadcrumb">
		<div class="row">
			<div class="col-12 d-flex no-block align-items-center">
				<h4 class="page-title">개인정보처리방침 관리</h4>
			</div>
		</div>
	</div>

	<div class="container-fluid">
		<div class="card">
			<div class="card-body">
				<h5 class="card-title">개인정보처리방침 목록</h5>
				<div class="table-responsive">
					<table
							class="table table-striped table-bordered"
							id="zero_config"
					>
						<thead>
						<tr>
							<th>
								<label class="customcheckbox mb-3">
									<input id="mainCheckbox" type="checkbox">
									<span class="checkmark"></span>
								</label>
							</th>
							<th>번호</th>
							<th>제목</th>
							<th>등록일</th>
						</tr>
						</thead>
						<tbody>
						</tbody>
						<tfoot>
						</tfoot>
					</table>
				</div>
			</div>
		</div>
	</div>


</div>

</html>